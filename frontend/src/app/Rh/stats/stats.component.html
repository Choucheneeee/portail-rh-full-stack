<div class="grid grid-cols-1 lg:grid-cols-3 gap-4 p-3 sm:p-6 w-full">
  <!-- Distribution des Demandes (First) -->
  <div class="col-span-1 lg:col-span-2 order-1 bg-white rounded-xl shadow-sm p-3 sm:p-6 border border-gray-100">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-base sm:text-lg font-semibold text-gray-900">Distribution des Demandes</h2>
    </div>
    
    <div *ngIf="isLoading" class="h-[300px] sm:h-[400px] lg:h-[500px] w-full flex items-center justify-center">
      <div class="flex flex-col items-center">
        <div class="animate-spin rounded-full h-8 w-8 sm:h-10 sm:w-10 border-b-2 border-blue-600"></div>
        <p class="mt-2 text-xs sm:text-sm text-gray-500">Chargement des données...</p>
      </div>
    </div>

    <div *ngIf="!isLoading" class="h-[300px] sm:h-[400px] lg:h-[500px] relative">
      <canvas baseChart
        [data]="combinedChart.data"
        [options]="combinedChart.options"
        [type]="combinedChart.type"
        style="width: 100%; height: 100%; max-height: 100%">
      </canvas>
    </div>
  </div>

  <!-- Distribution Générale (Second) -->
  <div class="col-span-1 order-2 bg-white rounded-xl shadow-sm p-3 sm:p-6 border border-gray-100 min-h-[400px] sm:min-h-[450px] lg:min-h-[500px]">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-base sm:text-lg font-semibold text-gray-900">Distribution Générale</h2>
    </div>
    
    <div *ngIf="isLoading" class="h-[300px] sm:h-[350px] lg:h-[400px] w-full flex items-center justify-center">
      <div class="flex flex-col items-center">
        <div class="animate-spin rounded-full h-8 w-8 sm:h-10 sm:w-10 border-b-2 border-blue-600"></div>
        <p class="mt-2 text-xs sm:text-sm text-gray-500">Chargement des données...</p>
      </div>
    </div>

    <div *ngIf="!isLoading" class="h-[300px] sm:h-[350px] lg:h-[400px] relative">
      <canvas baseChart
        [data]="pieChartData"
        [options]="pieChartOptions"
        [type]="pieChartType"
        style="width: 100%; height: 100%; max-height: 100%">
      </canvas>
    </div>
  </div>
</div>