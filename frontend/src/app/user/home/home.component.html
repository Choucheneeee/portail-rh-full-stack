<div class="flex h-screen bg-gradient-to-br from-gray-50 to-gray-100">
  <!-- Sidebar -->
  <app-sidebar
    [firstName]="userFirstName"
    [userData]="user"
    [lastName]="userLastName"
    [imageUrl]="this.imageUrl"
    (profileToggled)="toggleView($event)"
    (requestToggled)="showRequest()"
    (chatToggled)="showChat()"
    (documentsToggled)="showDocument()"
    (formationToggled)="showFormation()"
    (congeToggled)="showConge()"
    (pretAvanceToggled)="showPretAvance()"
    class="fixed inset-y-0 left-0 z-40 shadow-xl transition-transform duration-300 transform lg:translate-x-0"
    [class.-translate-x-full]="!isSidebarOpen"
    [class.translate-x-0]="isSidebarOpen">
  </app-sidebar>

  <!-- Main Content Area -->
  <div class="flex-1 transition-all duration-300"
       [class.ml-0]="!isSidebarOpen"
       [class.ml-64]="isSidebarOpen && !isMobileView">
    <!-- Navbar -->
    <app-navbar 
      class="fixed top-0 right-0 z-30 bg-white shadow-md backdrop-blur-sm backdrop-filter bg-opacity-90 transition-all duration-300"
      [class.left-0]="!isSidebarOpen || isMobileView"
      [class.left-64]="isSidebarOpen && !isMobileView"
      (toggleSidebar)="toggleSidebar()">
    </app-navbar>

    <!-- Main Content Container -->
    <div class="pt-20 px-4 sm:px-6 lg:px-8 min-h-screen">
      <!-- Alert Message -->
      <div *ngIf="str" 
           class="fixed top-20 right-4 flex items-center p-4 bg-blue-50 border-l-4 border-blue-500 rounded-lg shadow-lg transition-all duration-300 max-w-md transform translate-y-0 hover:translate-y-[-2px] mx-4 sm:mx-0">
        <div class="flex-shrink-0 mr-4">
          <svg class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <p class="text-sm text-blue-800 flex-1">{{ str }}</p>
        <button (click)="hidealert()" 
                class="ml-4 p-1 rounded-full hover:bg-blue-100 transition-colors duration-200">
          <svg xmlns="http://www.w3.org/2000/svg" 
               class="h-4 w-4 text-blue-600" 
               fill="none" 
               viewBox="0 0 24 24" 
               stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <!-- Dynamic Content with Card Layout -->
      <div class="space-y-6 max-w-7xl mx-auto">
        <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 transition-all duration-300">
          <!-- Dynamic Components with Responsive Classes -->
          <app-personel-info *ngIf="isPersonelInfoVisible" 
                            [userData]="user" 
                            class="animate-fade-in transform transition-all duration-300">
          </app-personel-info>

          <app-profile *ngIf="isProfileVisible" 
                      [allinfo]="user" 
                      class="animate-fade-in transform transition-all duration-300">
          </app-profile>

          <app-list-request *ngIf="isRequestVisible" 
                       class="animate-fade-in transform transition-all duration-300">
          </app-list-request>

          <app-chat *ngIf="isChatVisible" 
                   class="animate-fade-in transform transition-all duration-300">
          </app-chat>

          <app-document *ngIf="isDocumentVisible" 
                       class="animate-fade-in transform transition-all duration-300">
          </app-document>

          <app-formation *ngIf="isFormationVisible" 
                        class="animate-fade-in transform transition-all duration-300">
          </app-formation>

          <app-conge *ngIf="isCongeVisible" 
                    class="animate-fade-in transform transition-all duration-300">
          </app-conge>
          <app-avance *ngIf="isPretAvanceVisible" 
                        class="animate-fade-in transform transition-all duration-300">
          </app-avance>
        </div>        </div>
      </div>      </div>
    </div>   

    <app-bot></app-bot>